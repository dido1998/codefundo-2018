<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <style>
/*      #map {
        width: 100%;
        height: 400px;
        background-color: grey;
      }*/
    #map-canvas {
    height: 600px;
    width: 100%;
    margin: 0px;
    padding: 0px
}
    </style>

    <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <title>Single - CODEFLOOD</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- mobile specific metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="/static/css/mdb.min.css" rel="stylesheet">
    <!-- Your custom styles (optional) -->
    <link href="/static/css/style.css" rel="stylesheet">

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="/static/css/base.css">
    <link rel="stylesheet" href="/static/css/vendor.css">
    <link rel="stylesheet" href="/static/css/main.css">

    <!-- script
    ================================================== -->
    <script src="/static/js/modernizr.js"></script>
    <script src="/static/js/pace.min.js"></script>

    <link rel="shortcut icon" type="image/x-icon" href="docs/images/favicon.ico" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ==" crossorigin=""/>
    
    <link rel="stylesheet" href="https://cdn.rawgit.com/balzss/luxbar/ae5835e2/build/luxbar.min.css">

    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js" integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log==" crossorigin=""></script>

    <!-- favicons
    ================================================== -->
    <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon">
    
    
   
</head>

<body id="top"  >

    <div id="preloader">
        <div id="loader"></div>
    </div>


    <!-- header 
    ================================================== -->
    <header class="s-header">

        <div class="header-logo">
            <a class="site-logo" href="index.html">
                <img src="images/logo.svg" alt="Homepage">
            </a>
        </div>

        <nav class="row header-nav-wrap wide">
            <ul class="header-main-nav">
                <li><a href="index.html" title="intro">Home</a></li>
                <li class="current"><a href="blog.html" title="blog">Blog</a></li>  
            </ul>

            <ul class="header-social">
                <li><a href="#0"><i class="fab fa-facebook-f" aria-hidden="true"></i></a></li>
                <li><a href="#0"><i class="fab fa-twitter" aria-hidden="true"></i></a></li>
                <li><a href="#0"><i class="fab fa-instagram" aria-hidden="true"></i></a></li>
            </ul>
        </nav>

        <a class="header-menu-toggle" href="#"><span>Menu</span></a>
    
    </header> <!-- end header -->


    <!-- article
    ================================================== -->
    <article class="blog-single">


        <!-- page header
        ================================================== -->
        <div class="page-header page-header--single" style="background-image:url(images/blog/blog-bg-01.jpg)">

            <div class="row page-header__content">
                <div class="col-full">

                    <h1 class="display-1">
                        Estimated time for Relief.
                    </h1>
                    <ul class="page-header__meta">
                        <li class="author">Address: <a href="#0">Jonathan Doe</a></li>
                        <li class="date">September 14, 2018</li>
                        <li class="cat-links">
                            <a href="#0">Marketing</a><a href="#0">Management</a>
                        </li>
                    </ul>
                    
                </div>
            </div>

        </div> <!-- end page-header -->


        <!-- blog content
        ================================================== -->
        <div class="blog-content-wrap">

            <h3>Flooded Locations</h3>
    <!--The div element for the map -->
    <!-- <div id="map"></div>
     -->
      
    
    <input type="button" id="routebtn" value="route" />
    <div id="map-canvas"></div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA2Fn0J57CMn5od7EHQQWlOoEAGxKK8kqo"></script>
    <script>
        
      var location_user_lat=34.45;
            var location_user_lon=12.4;
            var location_ngo_lat=35.5;
            var location_ngo_lon=11.3;
            
        function mapLocation() {
            
            //arr=data.split(',');
          
            // var location_user_lat= 13.7
            // var location_user_lon=32.3
            // var location_ngo_lat=18.4
            // var location_ngo_lon=35.4
          alert(location_ngo_lon);
          var directionsDisplay;
          var directionsService = new google.maps.DirectionsService();
          var map;

          function initialize() {
            
            directionsDisplay = new google.maps.DirectionsRenderer();
            var chicago = new google.maps.LatLng(36.7783, 119.4789);
            var mapOptions = {
              zoom: 7,
              center: chicago
            };
            map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
            directionsDisplay.setMap(map);
            google.maps.event.addDomListener(document.getElementById('routebtn'), 'click', calcRoute);
          }

          function calcRoute() {
            var start = new google.maps.LatLng(Number(12.9141), Number(74.8560));
            var end = new google.maps.LatLng(Number(location_user_lat), Number(location_user_lon));
            alert(location_ngo_lon)
            var request = {
              origin: start,
              destination: end,
              travelMode: google.maps.TravelMode.DRIVING
            };
            directionsService.route(request, function(response, status) {
              if (status == google.maps.DirectionsStatus.OK) {
                directionsDisplay.setDirections(response);
                directionsDisplay.setMap(map);
              } else {
                alert("Directions Request from " + start.toUrlValue(6) + " to " + end.toUrlValue(6) + " failed: " + status);
              }
            });
          }

          google.maps.event.addDomListener(window, 'load', initialize);
    }
    mapLocation();
    </script>


        </div> <!-- end blog-content-wrap -->

    </article> <!-- end article(blog-single) -->


    <!-- blog nav
    ================================================== -->
    <div class="blog-single-nav-wrap">
        <div class="row blog-single-nav">
            <div class="col-six blog-single-nav__prev">
                <a href="#0" rel="prev">
                    <span>Prev</span>
                    The Pomodoro Technique Really Works. 
                </a>
            </div>
            <div class="col-six blog-single-nav__next">
                <a href="#0" rel="next">
                    <span>Next</span>
                    How Imagery Drives User Experience.
                </a>
            </div>
        </div>
    </div> <!-- end blog-single-nav-wrap-->


    <!-- comments
    ================================================== -->
    <div class="comments-wrap">
        <div id="mapid" style="width: 100%; height: 800px;"></div>
     <script>
        // San Jacinto River flooding
        //-95.1,29.8,-95.0,29.9

        var bounds = new L.LatLngBounds(new L.LatLng(29.88255, -95.09723), new L.LatLng(29.79511, -95.0114));

        var mymap = L.map('mapid', {
            maxBounds: bounds,
            maxBoundsViscosity: 1.0
        }).setView([29.82843, -95.0744], 15);

        mymap.options.maxZoom = 18;
        mymap.options.minZoom = 14;

        var local_tiles_root = 'file:///Users/jkwok/Documents/Insight/tools/jTileDownloader 2/digitalglobe/'
        var web_tiles_root = 'tiles/'
        var tiles_root = web_tiles_root

        var pre_hurricane = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}@2x.png?access_token={accessToken}', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
                '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery © <a href="http://mapbox.com">Mapbox</a>',
            id: 'mapbox.satellite',
            accessToken: 'pk.eyJ1IjoiamFja2t3b2siLCJhIjoiY2o3YXBmc2YyMGlvMjJ3cnNhc3ozZmw5MCJ9.noMLXNAU-AB9ESNUDuuAyg'
        });

        var street = L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}@2x.png?access_token={accessToken}', {
            maxZoom: 18,
            attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
                '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery © <a href="http://mapbox.com">Mapbox</a>',
            id: 'mapbox.streets',
            accessToken: 'pk.eyJ1IjoiamFja2t3b2siLCJhIjoiY2o3YXBmc2YyMGlvMjJ3cnNhc3ozZmw5MCJ9.noMLXNAU-AB9ESNUDuuAyg'
        });

        // Post Hurrican Satellite Imagery
        var post_hurricane = L.tileLayer('https://api.mapbox.com/v4/{id}/{z}/{x}/{y}@2x.jpg?access_token={accessToken}', {
            maxZoom: 18,
            id: 'jackkwok.digitalglobe_harvey_3020132_tif',
            accessToken: 'pk.eyJ1IjoiamFja2t3b2siLCJhIjoiY2o3YXBmc2YyMGlvMjJ3cnNhc3ozZmw5MCJ9.noMLXNAU-AB9ESNUDuuAyg',
            attribution: 'DigitalGlobe  <a href="https://www.digitalglobe.com/opendata/hurricane-irma/license">License</a>',
        });

        var jk_attribution = '© Jack Kwok <a href="https://creativecommons.org/licenses/by/2.0/">License</a>'

        // TODO set bounds: to avoid hitting AWS S3 necessarily.
        // https://gis.stackexchange.com/questions/69738/leafletjs-load-tile-layer-based-on-bounding-box
        var inspector = L.tileLayer(tiles_root + 'anomaly_mask_v141812/{z}/{x}/{y}.png', {
            minNativeZoom: 16,
            maxNativeZoom: 16,
            attribution: jk_attribution,
        });

        var pre_road_seg_mask = L.tileLayer(tiles_root + 'mapbox_sat_mask/{z}/{x}/{y}.jpg', {
            minNativeZoom: 16,
            maxNativeZoom: 16,
            attribution: jk_attribution,
        });

        pre_road_seg_mask.setOpacity(0.5)

        var post_road_seg_mask_223544 = L.tileLayer(tiles_root + 'jackkwok.digitalglobe_harvey_3020132_tif_mask/{z}/{x}/{y}.jpg', {
            minNativeZoom: 16,
            maxNativeZoom: 16,
            attribution: jk_attribution,
        });

        var post_road_seg_mask_141812 = L.tileLayer(tiles_root + '141812_post_mask/{z}/{x}/{y}.jpg', {
            minNativeZoom: 16,
            maxNativeZoom: 16,
            attribution: jk_attribution,
        });

        post_road_seg_mask_141812.setOpacity(0.5)

        var post_inspector = L.layerGroup([post_hurricane, inspector]);
        var pre_road_seg = L.layerGroup([pre_hurricane, pre_road_seg_mask]);
        var post_road_seg = L.layerGroup([post_hurricane, post_road_seg_mask_141812]);

        var baseMaps = {
            "Street Base Map": street,
            "Pre Harvey Satelllite": pre_hurricane,
            "Post Harvey Satellite": post_inspector,
            "Pre Harvey Road Seg": pre_road_seg,
            "Post Harvey Road Seg": post_road_seg
        };

        var overlayMaps = {
            "Inspector": inspector
        };

        pre_hurricane.addTo(mymap);

        L.control.layers(baseMaps, overlayMaps).addTo(mymap);

        var popup = L.popup();

        function onMapClick(e) {
            popup
                .setLatLng(e.latlng)
                .setContent(e.latlng.toString())
                .openOn(mymap);
        }

        mymap.on('click', onMapClick);

    </script>

        <div id="comments" class="row">
            <div class="col-full">

                <h3>5 Comments</h3>

                <!-- START commentlist -->
                <ol class="commentlist">

                    <li class="depth-1 comment">

                        <div class="comment__avatar">
                            <img class="avatar" src="images/avatars/user-01.jpg" alt="" width="50" height="50">
                        </div>

                        <div class="comment__content">

                            <div class="comment__info">
                                <div class="comment__author">Itachi Uchiha</div>

                                <div class="comment__meta">
                                    <div class="comment__time">Sept 11, 2018</div>
                                    <div class="comment__reply">
                                        <a class="comment-reply-link" href="#0">Reply</a>
                                    </div>
                                </div>
                            </div>

                            <div class="comment__text">
                            <p>Adhuc quaerendum est ne, vis ut harum tantas noluisse, id suas iisque mei. Nec te inani ponderum vulputate,
                            facilisi expetenda has et. Iudico dictas scriptorem an vim, ei alia mentitum est, ne has voluptua praesent.</p>
                            </div>

                        </div>

                    </li> <!-- end comment level 1 -->

                    <li class="thread-alt depth-1 comment">

                        <div class="comment__avatar">
                            <img class="avatar" src="images/avatars/user-04.jpg" alt="" width="50" height="50">
                        </div>

                        <div class="comment__content">

                            <div class="comment__info">
                                <div class="comment__author">John Doe</div>

                                <div class="comment__meta">
                                    <div class="comment__time">Sept 11, 2018</div>
                                    <div class="comment__reply">
                                        <a class="comment-reply-link" href="#0">Reply</a>
                                    </div>
                                </div>
                            </div>

                            <div class="comment__text">
                            <p>Sumo euismod dissentiunt ne sit, ad eos iudico qualisque adversarium, tota falli et mei. Esse euismod
                            urbanitas ut sed, et duo scaevola pericula splendide. Primis veritus contentiones nec ad, nec et
                            tantas semper delicatissimi.</p>
                            </div>

                        </div>

                        <ul class="children">

                            <li class="depth-2 comment">

                                <div class="comment__avatar">
                                    <img class="avatar" src="images/avatars/user-03.jpg" alt="" width="50" height="50">
                                </div>

                                <div class="comment__content">

                                    <div class="comment__info">
                                        <div class="comment__author">Kakashi Hatake</div>

                                        <div class="comment__meta">
                                            <div class="comment__time">Sept 11, 2018</div>
                                            <div class="comment__reply">
                                                <a class="comment-reply-link" href="#0">Reply</a>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="comment__text">
                                        <p>Duis sed odio sit amet nibh vulputate
                                        cursus a sit amet mauris. Morbi accumsan ipsum velit. Duis sed odio sit amet nibh vulputate
                                        cursus a sit amet mauris</p>
                                    </div>

                                </div>

                                <ul class="children">

                                    <li class="depth-3 comment">

                                        <div class="comment__avatar">
                                            <img class="avatar" src="images/avatars/user-04.jpg" alt="" width="50" height="50">
                                        </div>

                                        <div class="comment__content">

                                            <div class="comment__info">
                                                <div class="comment__author">John Doe</div>

                                                <div class="comment__meta">
                                                    <div class="comment__time">Sept 11, 2018</div>
                                                    <div class="comment__reply">
                                                        <a class="comment-reply-link" href="#0">Reply</a>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="comment__text">
                                            <p>Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. Claritas est
                                            etiam processus dynamicus, qui sequitur mutationem consuetudium lectorum.</p>
                                            </div>

                                        </div>

                                    </li>

                                </ul>

                            </li>

                        </ul>

                    </li> <!-- end comment level 1 -->

                    <li class="depth-1 comment">

                        <div class="comment__avatar">
                            <img class="avatar" src="images/avatars/user-02.jpg" alt="" width="50" height="50">
                        </div>

                        <div class="comment__content">

                            <div class="comment__info">
                                <div class="comment__author">Shikamaru Nara</div>

                                <div class="comment__meta">
                                    <div class="comment__time">Jun 15, 2018</div>
                                    <div class="comment__reply">
                                        <a class="comment-reply-link" href="#0">Reply</a>
                                    </div>
                                </div>
                            </div>

                            <div class="comment__text">
                            <p>Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem.</p>
                            </div>

                        </div>

                    </li>  <!-- end comment level 1 -->

                </ol>
                <!-- END commentlist -->

            </div> <!-- end col-full -->
        </div> <!-- end comments -->


        <div class="row comment-respond">

            <!-- START respond -->
            <div id="respond" class="col-full">

                <h3>Add Comment <span>Your email address will not be published</span></h3>

                <form name="contactForm" id="contactForm" method="post" action="" autocomplete="off">
                    <fieldset>

                        <div class="form-field">
                            <input name="cName" id="cName" class="full-width" placeholder="Your Name" value="" type="text">
                        </div>

                        <div class="form-field">
                            <input name="cEmail" id="cEmail" class="full-width" placeholder="Your Email" value="" type="text">
                        </div>

                        <div class="form-field">
                            <input name="cWebsite" id="cWebsite" class="full-width" placeholder="Website" value="" type="text">
                        </div>

                        <div class="message form-field">
                            <textarea name="cMessage" id="cMessage" class="full-width" placeholder="Your Message"></textarea>
                        </div>

                        <input name="submit" id="submit" class="btn btn--primary btn-wide btn--large full-width" value="Add Comment" type="submit">

                    </fieldset>
                </form> <!-- end form -->

            </div>
            <!-- END respond-->

        </div> <!-- end comment-respond -->

    </div> <!-- end comments-wrap -->


    <!-- footer
    ================================================== -->
    <footer class="s-footer footer">

        <div class="row footer__top">
            <div class="col-six md-full">
                <h1 class="display-2">
                    Let's Stay In Touch.
                </h1>
                <p class="lead">
                    Subscribe for updates, special offers and more.
                </p>
            </div>
            <div class="col-six md-full footer__subscribe end">
                <div class="subscribe-form">
                    <form id="mc-form" class="group" novalidate="true">

                        <input type="email" value="" name="EMAIL" class="email" id="mc-email" placeholder="Email Address" required="">
            
                        <input type="submit" name="subscribe" value="Sign Up">
            
                        <label for="mc-email" class="subscribe-message"></label>
            
                    </form>
                </div>
            </div>
        </div> <!-- end footer__top -->

        <div class="row footer__bottom">
            <div class="col-five tab-full">
                <div class="footer__logo">
                    <a href="index.html">
                        <img src="images/logo.svg" alt="Homepage">
                    </a>
                </div>

                <p>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed 
                do eiusmod tempor incididunt ut labore et dolore magna aliqua. 
                Ut enim ad minim veniam, quis nostrud exercitation ullamco 
                laboris nisi ut aliquip ex ea commodo consequat.
                </p>

                <ul class="footer__social">
                    <li><a href="#0"><i class="fab fa-facebook-f" aria-hidden="true"></i></a></li>
                    <li><a href="#0"><i class="fab fa-twitter" aria-hidden="true"></i></a></li>
                    <li><a href="#0"><i class="fab fa-instagram" aria-hidden="true"></i></a></li>
                </ul>
            </div>

            <div class="col-six tab-full end">
                <ul class="footer__site-links">
                    <li><a href="index.html#home" title="intro">Intro</a></li>
                    <li><a href="index.html#about" title="about">About</a></li>
                    <li><a href="index.html#features" title="features">Features</a></li>
                    <li><a href="index.html#pricing" title="pricing">Pricing</a></li>
                    <li><a href="blog.html" title="blog">Blog</a></li>  
                </ul>

                <p class="footer__contact">
                    Do you have a question? Send us a word: <br>
                    <a href="mailto:#0" class="footer__mail-link">support@standout.com</a>
                </p>

                <div class="cl-copyright">
                    <span><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
</span>
                </div>
            </div>

        </div> <!-- end footer__bottom -->

        <div class="go-top">
            <a class="smoothscroll" title="Back to Top" href="#top"></a>
        </div>

    </footer> <!-- end s-footer -->


    <!-- Java Script
    ================================================== -->
    <script src="/static/js/jquery-3.2.1.min.js"></script>
    <script src="/static/js/plugins.js"></script>
    <script src="/static/js/main.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="/static/js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="/static/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="/static/js/mdb.min.js"></script>

    <script type="text/javascript">
    var user_lat, user_long;
    var finalco;
    function setCookie(cname,cvalue,exdays) {
            var d = new Date();
            d.setTime(d.getTime() + (exdays*24*60*60*1000));
            var expires = "expires=" + d.toGMTString();
            document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
        }

        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for(var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }

        function checkCookie() {
            var user=getCookie("username");

            
            
            if (user != "") {
                
                var arr = user.split(',')
                send=arr[1]+','+arr[2]+',0'
                alert("Welcome again " + arr[0]);
                $.ajax({
            type: "POST",
           
            data:{keyword:send},
            url: './receiver',
            success: function(data) { 
                alert('yoo');
                arr=data.split(',')
                location_user_lat=Number(arr[0])
                location_user_lon=Number(arr[1])
                location_ngo_lat=Number(arr[2])
                location_ngo_lon=Number(arr[3])
                alert(location_ngo_lon)
                mapLocation();
                console.log(data);                    
            },
            error: function(req, textstatus,errorthrown) {
                alert('error'+textstatus+' '+errorthrown);
                
                //alert(jqXHR)
                // alert("error: " + jqXHR.status);
                // alert(jqXHR)
                console.log(jqXHR);
            }
        })
            } else {
                finalco=finalco+",1"
               user = prompt("Please enter your email:","");
               user = user + ','+ finalco;
               
               if (user != "" && user != null) {
                   setCookie("username", user, 30);
            $.ajax({
            type: "POST",
            cache: false,
            data:{keyword:finalco},
            url: './receiver',
            dataType: "json",
            success: function(data) { 
                alert('yoo')
                //mapLocation(data);

                console.log(data);                    
            },
            error: function(jqXHR) {
                alert('error');
                alert(jqXHR);
                
                // alert("error: " + jqXHR.status);
                // alert(jqXHR)
                console.log(jqXHR);
            }
        })
               }
            }
                }
        
        function ipLookUp () {
              $.ajax('http://ip-api.com/json')
              .then(
                  function success(response) {
                      console.log('User\'s Location Data is ', response);
                      console.log('User\'s Country', response.country);
                      getAdress(response.lat, response.lon)
            },

                  function fail(data, status) {
                      console.log('Request failed.  Returned status of',
                                  status);
                  }
              );
            }

        function getAddress (latitude, longitude) {
          $.ajax('https://maps.googleapis.com/maps/api/geocode/json?' +
                  'latlng=' + latitude + ',' + longitude + '&key=' + 
                  'AIzaSyA2Fn0J57CMn5od7EHQQWlOoEAGxKK8kqo')
          .then(
            function success (response) {
              console.log('User\'s Address Data is ', response)
            },
            function fail (status) {
              console.log('Request failed.  Returned status of',
                          status)
            }
           )
        }

        if ("geolocation" in navigator) {
          // check if geolocation is supported/enabled on current browser
          navigator.geolocation.getCurrentPosition(
           function success(position) {
             // for when getting location is a success
             user_lat = position.coords.latitude;
             user_long = position.coords.longitude;
             finalco = String(user_lat) + ',' + String(user_long);
             console.log('latitude', position.coords.latitude, 
                         'longitude', position.coords.longitude);
             getAddress(position.coords.latitude, 
                        position.coords.longitude)
             checkCookie();
           },
          function error(error_message) {
            // for when getting location results in an error
            console.error('An error has occured while retrieving' +
                          'location', error_message)
            ipLookUp()
            
          }
        );
        } else {
          // geolocation is not supported
          // get your location some other way
          console.log('geolocation is not enabled on this browser')
          ipLookUp()
        }

    </script>
</body>
